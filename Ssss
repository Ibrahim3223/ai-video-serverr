{
â€œnameâ€: â€œYouTube Shorts Otomasyon - Ãœlke Bilgileriâ€,
â€œnodesâ€: [
{
â€œparametersâ€: {
â€œruleâ€: {
â€œintervalâ€: [
{
â€œfieldâ€: â€œcronExpressionâ€,
â€œcronExpressionâ€: â€œ0 9 * * *â€
}
]
}
},
â€œidâ€: â€œschedule-triggerâ€,
â€œnameâ€: â€œDaily Trigger - 09:00â€,
â€œtypeâ€: â€œn8n-nodes-base.scheduleTriggerâ€,
â€œtypeVersionâ€: 1.1,
â€œpositionâ€: [240, 300]
},
{
â€œparametersâ€: {
â€œjsCodeâ€: â€œ// Ãœlkeler ve ilginÃ§ kategoriler\nconst countries = [\n  {name: "Japonya", category: "teknoloji", hook: "Japonyaâ€™da robotlarâ€¦"},\n  {name: "Ä°zlanda", category: "doÄŸa", hook: "Ä°zlandaâ€™da hiÃ§ aÄŸaÃ§ yok mu?"},\n  {name: "Singapur", category: "yasalar", hook: "Singapurâ€™da sakÄ±z Ã§iÄŸnemek suÃ§!"},\n  {name: "NorveÃ§", category: "zenginlik", hook: "NorveÃ§â€™te herkes milyoner!"},\n  {name: "Butan", category: "mutluluk", hook: "DÃ¼nyanÄ±n en mutlu Ã¼lkesi"},\n  {name: "Yeni Zelanda", category: "doÄŸa", hook: "Yeni Zelandaâ€™da insandan Ã§ok koyun var!"},\n  {name: "Ä°sviÃ§re", category: "para", hook: "Ä°sviÃ§reâ€™de Ã§Ã¶p atmak 1000 dolar!"},\n  {name: "Finlandiya", category: "eÄŸitim", hook: "Finlandiyaâ€™da Ã¶dev yok!"},\n  {name: "Danimarka", category: "yaÅŸam", hook: "Danimarkaâ€™da Ã§alÄ±ÅŸma saati gÃ¼nde 6 saat!"},\n  {name: "Kanada", category: "doÄŸa", hook: "Kanadaâ€™da ayÄ±lardan Ã§ok insan var mÄ±?"}\n];\n\n// BugÃ¼nÃ¼n tarihine gÃ¶re rastgele seÃ§im (her gÃ¼n aynÄ± olmasÄ± iÃ§in)\nconst today = new Date();\nconst dayOfYear = Math.floor((today - new Date(today.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));\nconst selectedCountry = countries[dayOfYear % countries.length];\n\nreturn {\n  country: selectedCountry.name,\n  category: selectedCountry.category, \n  hook: selectedCountry.hook,\n  date: today.toISOString().split(â€˜Tâ€™)[0]\n};â€
},
â€œidâ€: â€œcountry-selectorâ€,
â€œnameâ€: â€œÃœlke SeÃ§iciâ€,
â€œtypeâ€: â€œn8n-nodes-base.codeâ€,
â€œtypeVersionâ€: 2,
â€œpositionâ€: [440, 300]
},
{
â€œparametersâ€: {
â€œauthenticationâ€: â€œapiKeyâ€,
â€œresourceâ€: â€œchatâ€,
â€œoperationâ€: â€œmessageâ€,
â€œchatIdâ€: â€œgemini-proâ€,
â€œtextâ€: â€œ=Sen bir YouTube Shorts iÃ§erik Ã¼reticisisin. {{ $json.country }} hakkÄ±nda 45-50 saniye sÃ¼recek ilginÃ§ bir video scripti yaz.\n\nKRÄ°TERLER:\n- Hook: "{{ $json.hook }}" ile baÅŸla\n- Maksimum 150 kelime\n- 3 ana nokta\n- Her cÃ¼mle maksimum 8 kelime (altyazÄ± iÃ§in)\n- ÅaÅŸÄ±rtÄ±cÄ± ve viral olabilecek bilgiler\n- Son 5 saniyede gÃ¼Ã§lÃ¼ CTA (beÄŸen, takip et)\n\nFORMAT:\n[HOOK - 0-3 saniye]\n[ANA Ä°Ã‡ERÄ°K - 3-40 saniye] \n[CTA - 40-50 saniye]\n\nÃ‡Ä±ktÄ±yÄ± JSON formatÄ±nda ver:\n{\n  "script": "tam metin",\n  "hook": "ilk 3 saniye metni",\n  "main_content": "ana iÃ§erik metni", \n  "cta": "son 5 saniye metni",\n  "title": "YouTube baÅŸlÄ±ÄŸÄ±",\n  "description": "aÃ§Ä±klama metni",\n  "tags": ["etiket1", "etiket2"]\n}â€
},
â€œidâ€: â€œgemini-contentâ€,
â€œnameâ€: â€œGemini Ä°Ã§erik Ãœretimiâ€,
â€œtypeâ€: â€œn8n-nodes-base.googleGeminiâ€,
â€œtypeVersionâ€: 1,
â€œpositionâ€: [640, 300]
},
{
â€œparametersâ€: {
â€œjsCodeâ€: â€œ// Gemini responseâ€™unu parse et\nconst response = $input.first().json.response;\nlet contentData;\n\ntry {\n  // JSON parse et\n  contentData = JSON.parse(response);\n} catch (error) {\n  // EÄŸer JSON deÄŸilse, basit parse\n  contentData = {\n    script: response,\n    hook: response.substring(0, 50),\n    main_content: response.substring(50, -30),\n    cta: response.substring(-30),\n    title: `${$('country-selector').first().json.country} HakkÄ±nda ÅaÅŸÄ±rtÄ±cÄ± GerÃ§ek!`,\n    description: `${$('country-selector').first().json.country} ile ilgili inanÄ±lmaz bilgiler! #shorts`,\n    tags: [$(â€˜country-selectorâ€™).first().json.country.toLowerCase(), "ilginÃ§bilgiler", "shorts"]\n  };\n}\n\n// AltyazÄ± iÃ§in kelime bazÄ±nda timing hesapla\nconst words = contentData.script.split(â€™ â€˜);\nconst avgWordsPerSecond = 2.5; // TTS hÄ±zÄ±\nconst subtitles = [];\n\nlet currentTime = 0;\nwords.forEach((word, index) => {\n  subtitles.push({\n    start: currentTime,\n    end: currentTime + (60 / avgWordsPerSecond / words.length * 60),\n    text: word,\n    position: index % 6 // Her 6 kelimede bir satÄ±r deÄŸiÅŸimi\n  });\n  currentTime += (60 / avgWordsPerSecond / words.length * 60);\n});\n\nreturn {\n  â€¦contentData,\n  country: $(â€˜country-selectorâ€™).first().json.country,\n  subtitles: subtitles,\n  totalDuration: currentTime\n};â€
},
â€œidâ€: â€œcontent-parserâ€,
â€œnameâ€: â€œÄ°Ã§erik Parserâ€,
â€œtypeâ€: â€œn8n-nodes-base.codeâ€,
â€œtypeVersionâ€: 2,
â€œpositionâ€: [840, 300]
},
{
â€œparametersâ€: {
â€œauthenticationâ€: â€œapiKeyâ€,
â€œresourceâ€: â€œgenerateâ€,
â€œpromptâ€: â€œ=Professional photograph of {{ $json.country }}, iconic landmark, vibrant colors, cinematic lighting, ultra-detailed, 9:16 vertical aspect ratio, mobile optimized, high quality, no text, travel photography styleâ€,
â€œmodelâ€: â€œstable-diffusion-xl-1024-v1-0â€,
â€œwidthâ€: 768,
â€œheightâ€: 1344,
â€œsamplesâ€: 3,
â€œstepsâ€: 30,
â€œcfg_scaleâ€: 7
},
â€œidâ€: â€œstability-imagesâ€,
â€œnameâ€: â€œStability AI GÃ¶rsellerâ€,
â€œtypeâ€: â€œn8n-nodes-base.stabilityAiâ€,
â€œtypeVersionâ€: 1,
â€œpositionâ€: [1040, 200]
},
{
â€œparametersâ€: {
â€œauthenticationâ€: â€œserviceAccountâ€,
â€œresourceâ€: â€œtextâ€,
â€œoperationâ€: â€œconvertâ€,
â€œtextâ€: â€œ={{ $json.script }}â€,
â€œoptionsâ€: {\n          "voice": {\n            "languageCode": "tr-TR",\n            "name": "tr-TR-Wavenet-E",\n            "ssmlGender": "FEMALE"\n          },\n          "audioConfig": {\n            "audioEncoding": "MP3",\n            "speakingRate": 1.1,\n            "pitch": 2,\n            "volumeGainDb": 0\n          }\n        }\n      },\n      "id": "google-tts",\n      "name": "Google TTS",\n      "type": "n8n-nodes-base.googleTextToSpeech",\n      "typeVersion": 1,\n      "position": [1040, 400]\n    },\n    {\n      "parameters": {\n        "command": "=# FFmpeg ile CapCut tarzÄ± altyazÄ±lÄ± video oluÅŸturma\n\n# GÃ¶rselleri videoâ€™ya dÃ¶nÃ¼ÅŸtÃ¼r\nffmpeg -loop 1 -i {{ $(â€˜stability-imagesâ€™).first().json.artifacts[0].base64 | base64ToFile(â€˜pngâ€™) }} -c:v libx264 -t {{ $json.totalDuration }} -pix_fmt yuv420p -vf \"scale=1080:1920\" background.mp4\n\n# AltyazÄ± dosyasÄ± oluÅŸtur\necho \"{{ $json.subtitles.map(sub => `${sub.start.toFixed(2)} --> ${sub.end.toFixed(2)}\\\\n${sub.text}`).join(â€™\\n\\nâ€™) }}\" > subtitles.srt\n\n# Ana video assembly\nffmpeg -i background.mp4 -i {{ $(â€˜google-ttsâ€™).first().json.audioContent | base64ToFile(â€˜mp3â€™) }} \\\n  -vf \"subtitles=subtitles.srt:force_style=â€˜FontSize=32,Bold=1,PrimaryColour=&H00FFFF,OutlineColour=&H000000,Outline=2,Shadow=1,MarginV=200â€™\" \\\n  -c:v libx264 -c:a aac -shortest -y output.mp4\n\n# CapCut tarzÄ± efektler ekle\nffmpeg -i output.mp4 \\\n  -vf \"zoompan=z=â€˜if(lte(zoom,1.0),1.5,max(1.001,zoom-0.0015))â€™:d=125:x=â€˜iw/2-(iw/zoom/2)â€™:y=â€˜ih/2-(ih/zoom/2)â€™,fade=in:0:30\" \\\n  -c:v libx264 -preset fast -crf 23 -y final_video.mp4"\n      },\n      "id": "ffmpeg-video",\n      "name": "FFmpeg Video Assembly",\n      "type": "n8n-nodes-base.executeCommand",\n      "typeVersion": 1,\n      "position": [1240, 300]\n    },\n    {\n      "parameters": {\n        "authentication": "oAuth2",\n        "resource": "video",\n        "operation": "upload",\n        "title": "={{ $json.title }}",\n        "categoryId": "22",\n        "description": "={{ $json.description }}\n\n#{{ $json.tags.join(â€™ #â€™) }} #shorts #keÅŸfet #ilginÃ§bilgiler",\n        "tags": "={{ $json.tags.join(â€™,â€™) + â€˜,shorts,keÅŸfet,ilginÃ§bilgilerâ€™ }}",\n        "privacyStatus": "public",\n        "binaryData": true,\n        "binaryPropertyName": "data"\n      },\n      "id": "youtube-upload",\n      "name": "YouTube Upload",\n      "type": "n8n-nodes-base.youTube",\n      "typeVersion": 1,\n      "position": [1440, 300]\n    },\n    {\n      "parameters": {\n        "content": "=âœ… Video baÅŸarÄ±yla yÃ¼klendi!\nğŸ“º BaÅŸlÄ±k: {{ $json.title }}\nğŸŒ Ãœlke: {{ $(â€˜country-selectorâ€™).first().json.country }}\nâ±ï¸ SÃ¼re: {{ $(â€˜content-parserâ€™).first().json.totalDuration }}s\nğŸ”— URL: https://youtube.com/watch?v={{ $json.id }}",\n        "options": {}\n      },\n      "id": "notification",\n      "name": "BaÅŸarÄ± Bildirimi",\n      "type": "n8n-nodes-base.slack",\n      "typeVersion": 1,\n      "position": [1640, 300]\n    }\n  ],\n  "connections": {\n    "Daily Trigger - 09:00": {\n      "main": [\n        [\n          {\n            "node": "Ãœlke SeÃ§ici",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "Ãœlke SeÃ§ici": {\n      "main": [\n        [\n          {\n            "node": "Gemini Ä°Ã§erik Ãœretimi",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "Gemini Ä°Ã§erik Ãœretimi": {\n      "main": [\n        [\n          {\n            "node": "Ä°Ã§erik Parser",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "Ä°Ã§erik Parser": {\n      "main": [\n        [\n          {\n            "node": "Stability AI GÃ¶rseller",\n            "type": "main",\n            "index": 0\n          },\n          {\n            "node": "Google TTS",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "Stability AI GÃ¶rseller": {\n      "main": [\n        [\n          {\n            "node": "FFmpeg Video Assembly",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "Google TTS": {\n      "main": [\n        [\n          {\n            "node": "FFmpeg Video Assembly",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "FFmpeg Video Assembly": {\n      "main": [\n        [\n          {\n            "node": "YouTube Upload",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    },\n    "YouTube Upload": {\n      "main": [\n        [\n          {\n            "node": "BaÅŸarÄ± Bildirimi",\n            "type": "main",\n            "index": 0\n          }\n        ]\n      ]\n    }\n  },\n  "settings": {\n    "timezone": "Europe/Istanbul",\n    "saveExecutionProgress": true,\n    "saveDataErrorExecution": "all",\n    "saveDataSuccessExecution": "all"\n  },\n  "staticData": {},\n  "tags": [\n    {\n      "createdAt": "2024-01-01T00:00:00.000Z",\n      "updatedAt": "2024-01-01T00:00:00.000Z",\n      "id": "1",\n      "name": "YouTube Automation"\n    }\n  ],\n  "triggerCount": 1,\n  "updatedAt": "2024-01-01T00:00:00.000Z",\n  "versionId": "1"\n}
